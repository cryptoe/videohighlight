/*

 Copyright @ 2012 Alessandro Zifiglio
 http://www.typps.com
*/
var q=true,w=null,B=false;
(function(p,t){if(!String.prototype.trim)String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")};Function.extern=function(d,a){var b,c,f,e,i=p;if(d&&a){b=d.split(".");f=b.length;for(e=0;e<f;e++){c=b[e];if(e===f-1)i[c]=a;else i=i[c]?i[c]:i[c]={}}return this}};var g=Function.extern,l=l||function(){};g("Small",l);l.ea={add:0,remove:1};g(l.ea);l.prototype.log=function(){var d=p.console;if(p.$m_DEBUG){d||(d=p.console={});if(!d.log||!d.log.apply)d.log=function(){};d.log.apply(d,
arguments)}};g(l.log);l.prototype.handleEvent=function(d,a,b,c,f){var e,i,j,h;if(!(!a||!b||!c)){if(d===0){e="add";i="attach"}else{e="remove";i="detach"}f=f||B;b=b.split(" ");for(j in b){h=b[j];if(a[e+"EventListener"])a[e+"EventListener"](h,c,f);else if(a[i+"Event"])a[i+"Event"]("on"+h,c);else a["on"+h]=d===1?w:c}}};l.prototype.addEvent=function(d,a,b,c){this.handleEvent(0,d,a,b,c)};g(l.addEvent);l.prototype.removeEvent=function(d,a,b,c){this.handleEvent(1,d,a,b,c)};g(l.removeEvent);l.prototype.parseEnum=
function(d,a){var b=0,c;for(c in d)if(d.hasOwnProperty(c)){if(b===a)return c;b++}return w};g(l.parseEnum);l.prototype.mediaQuery=function(d,a){a=typeof a==="boolean"?a:B;if(!d||d.length===0)return q;var b=a?p.screen.width:t.documentElement.clientWidth,c,f,e,i,j;c=0;for(f=d.length;c<f;c++){e=d[c].minWidth;i=d[c].maxWidth;j=B;if(typeof e==="number")if(b>=e)j=q;if(typeof i==="number"){j=B;if(b<=i)j=q}if(j)return j}return B};g(l.mediaQuery);l.prototype.formatString=function(){var d=arguments[0],a,b;for(a=
0;a<arguments.length-1;a++){b=RegExp("\\{"+a+"\\}","gm");d=d.replace(b,arguments[a+1])}return d};g(l.formatString);l.prototype.createDelegate=function(d,a){return function(){return a.apply(d,arguments)}};g(l.createDelegate);l.prototype.getXY=function(d){var a={x:0,y:0};do{a.x+=d.offsetLeft;a.y+=d.offsetTop}while(d=d.offsetParent);return a};g(l.getXY);l.prototype.addCssClass=function(d,a){!d||!a||d.className&&d.className.search(RegExp("\\b"+a+"\\b"))!==-1||(d.className+=(d.className?" ":"")+a)};g(l.addCssClass);
l.prototype.removeCssClass=function(d,a){if(!(!d||!a||d.className&&d.className.search(RegExp("\\b"+a+"\\b"))===-1))d.className=d.className.replace(RegExp("\\s*\\b"+a+"\\b","g"),"")};g(l.removeCssClass);l.prototype.containsCssClass=function(d,a){if(!d||!a)return B;return d.className&&d.className.search(RegExp("\\b"+a+"\\b"))!==-1};g(l.containsCssClass);l.prototype.setCssText=function(d,a,b){var c,f=[],e,i,j="";if(typeof b!=="undefined")for(c in b){e=b[c];(i=d.style[e])&&i.trim().length>0&&f.push(this.formatString("{0}:{1}",
e,i))}if(f.length>0)j=f.join(";");if(typeof d.style.cssText!=="undefined")d.style.cssText=a+j;else d.setAttribute("style",a+j)};g(l.setCssText);l.prototype.getViewport=function(d){var a=p;d||(d="inner");if(!("innerWidth"in p)){d="client";a=t.documentElement||t.body}return{width:a[d+"Width"],height:a[d+"Height"]}};g(l.getViewport);l.prototype.getScrollPos=function(){var d,a,b=t.documentElement,c=t.body;if(self.pageYOffset){a=self.pageYOffset;d=self.pageXOffset}else if(b&&b.scrollTop){a=b.scrollTop;
d=b.scrollLeft}else if(c){a=c.scrollTop;d=c.scrollLeft}return{x:d,y:a}};g(l.getScrollPos);g("$m",new l)})(window,document);
(function(p,t,g){var l=Function.extern,d=p.PathMenu||function(a){var b={x0:70,y0:45,x1:107,y1:75,x2:75,y2:75,x3:75},c={x0:49,y0:176,x1:91,y1:146,x2:78,y2:100,x3:70};if(a){this.h=a.elem;this.oa=a.mediaFilter||[];this.aa=19;this.l=a.items||[];this.zIndex=a.zIndex;if(typeof this.zIndex!=="number")this.zIndex=1E5;this.paddingLeft=a.paddingLeft;if(typeof this.paddingLeft!=="number")this.paddingLeft=10;this.paddingBottom=a.paddingBottom;if(typeof this.paddingBottom!=="number")this.paddingBottom=10;this.paddingTop=
a.paddingTop;if(typeof this.paddingTop!=="number")this.paddingTop=10;this.paddingRight=a.paddingRight;if(typeof this.paddingRight!=="number")this.paddingRight=10;this.duration=a.duration;if(typeof this.duration!=="number")this.duration=1E3;this.n=a.radius;if(typeof this.n!=="number")this.n=50;this.ja=a.expanded||B;this.r=a.expandTimeout;if(typeof this.r!=="number")this.r=0;this.ua=a.showLabel||B;this.ba=a.onSelectedItem||w;this.X=a.onMainButtonClick||w;this.Z=a.onParentButtonClick||w;this.J=a.onBackButtonClick||
w;this.U=a.onItemButtonClick||w;this.ia=a.enableUrlHash||B;this.d=a.expandPattern;if(typeof this.d!=="number")this.d=7;this.C=a.bezierCurve||w;this.fa=a.alwaysExpanded||B;this.Y=a.mainButton||{}}this.K={leftBottomFixedArc:b,leftTopFixedArc:c,rightBottomFixedArc:b,rightTopFixedArc:c};this.l.push({command:"menu"});this.elements=[];this.F=[];this.p=[];this.va=this.na();this.b=B;this.u="position:absolute; left:{0}px; top: {1}px;z-index: {2};";this.e="ontouchstart"in p?"touchstart":"click";this.m=this.c=
w;this.selectedIndex=this.a=this.s=0;this.sa="rotatein";this.ta="rotateout";this.i="active";this.T="hideitems";this.ca="showitems";this.ka="fade-mainbutton";this.da="showlabels";this.H="hidelabels";this.w=[];this.V=[];this.D=[];this.$=["background","width","height"];this.W=B;this.z=g.createDelegate(this,this.unloadHandler);g.addEvent(p,"unload",this.z);this.initialize()};l("PathMenu",d);d.Role={menu:0,parent:1,item:2};d.ExpandPattern={circle:0,lineTop:1,lineRight:2,lineBottom:3,lineLeft:4,lineMiddleHorizontal:5,
lineMiddleVertical:6,leftBottomFixedArc:7,leftTopFixedArc:8,rightBottomFixedArc:9,rightTopFixedArc:10};d.g=0;d.prototype.get_bezierCurve=function(){var a=this.C;return a!==w&&typeof a==="object"?a:this.K[g.parseEnum(d.ExpandPattern,this.d)]};l(d.get_bezierCurve);d.prototype.set_bezierCurve=function(a){this.C=a};l(d.set_bezierCurve);d.prototype.set_expandPattern=function(a){if(typeof a==="number")this.d=a};l(d.set_expandPattern);d.prototype.dispose=function(){this.L(q);delete this.p;delete this.m;
if(this.v){g.removeEvent(p,"resize",this.v);delete this.v}if(this.q){g.removeEvent(t,"click",this.q);delete this.q}this.I&&g.removeEvent(t.body,this.e,this.I);this.B=0;this.j=w};d.prototype.L=function(a){var b,c,f,e,i=this.elements,j;for(f=0;f<i.length;f++){j=i[f];for(e in j){b=j[e];c=this.p[f][e];g.removeEvent(b,this.e,c);a&&b.parentNode&&b.parentNode.removeChild(b);if(b=t.getElementById(b.id+"_label")){g.removeEvent(b,this.e,c);a&&b.parentNode&&b.parentNode.removeChild(b)}}}this.p.length=0;this.elements.length=
0;if(this.m){g.removeEvent(this.c,this.e,this.m);this.m=w}};d.prototype.initialize=function(){var a=this.h,b=this;this.k=0;if(a){this.id=a.id+"_";if(d.g<this.zIndex)d.g=this.zIndex;g.addCssClass(a,"path");this.create(0,this.l);this.h.style.width=this.c.offsetWidth+"px";this.h.style.height=this.c.offsetHeight+"px";this.snap();this.v=g.createDelegate(this,this.ra);g.addEvent(p,"resize",this.v);if(!this.fa)if(this.e==="click"){this.q=g.createDelegate(this,this.ha);g.addEvent(t,"click",this.q)}if(this.e!==
"click"){this.I=function(){};g.addEvent(t.body,this.e,this.I)}this.test();if(this.ja)this.N=p.setTimeout(function(){b.A();b.toggleMainButton(1);b.toggleMenuExpansion(-1,b.a);if(b.r)this.O=p.setTimeout(function(){b.collapseAll()},b.r)},1500)}};l(d.initialize);d.prototype.M=function(){var a=this.N,b=this.O;if(a){p.clearTimeout(a);this.N=w}if(b){p.clearTimeout(b);this.O=w}};d.prototype.set_lock=function(a){var b=this.c,c=this.ka;(this.W=a)?g.addCssClass(b,c):g.removeCssClass(b,c)};l(d.set_lock);d.prototype.get_items=
function(){return this.l};l(d.get_items);d.prototype.render=function(a){this.s=0;this.L();this.w.length=0;this.create(0,this.l,a);this.snap();if(a){this.w=this.V;this.toggleMainButton(1);this.toggleMenuExpansion(-1,this.a)}this.set_lock(B);this.A()};l(d.render);d.prototype.add_item=function(a,b){var c;if(typeof b!=="undefined"){c=b.items||[];c.push(a);b.items=c}else a&&this.l.push(a)};l(d.add_item);d.prototype.test=function(){var a=this.h;g.mediaQuery(this.oa)?g.removeCssClass(a,"hide-menu"):g.addCssClass(a,
"hide-menu")};d.prototype.ha=function(a){a=a.target||a.srcElement;if(!(a.nodeType===1&&"input, select, option, button, a".indexOf(a.nodeName.toLowerCase())!==-1)){this.M();this.collapseAll()}};d.prototype.collapseAll=function(){var a=this.a;if(this.b){this.a=0;this.toggleMainButton(0);this.toggleMenuExpansion(-1,a);this.w.length=0}};d.prototype.create=function(a,b,c,f,e,i){f||(f=[]);e||(e=[]);if(typeof i!=="number")i=0;var j,h,m=0,k=2,o;o="";var n=w,x,r=B,u=B,v=w,y=w,C,D,z=w,E=-1;if(b)m=b.length;
for(j=0;j<m;j++){h=b[j];v=h.items;if(a===0&&h.command==="menu")k=0;if(typeof h==="object")if(v){g.log(e.join("")+this.id+this.S(f,a,j));f.push(j);e.push("--");E=++this.s;this.create(++a,v,c,f,e,this.s);k=1;--a;e.pop();f.pop()}if(typeof h.title==="string")o=h.title;if(typeof h.url==="string")x=h.url;if(typeof h.newTab==="boolean")r=h.newTab;if(typeof h.insertMask==="boolean")u=h.insertMask;if(typeof h.text==="string")n=h.text;v=typeof h.command!=="undefined"?h.command:h;if(v===c)this.a=E;if(typeof h.backgroundUrl===
"string")y=h.backgroundUrl;if(typeof h.width==="number")C=h.width;if(typeof h.height==="number")D=h.height;if(typeof h.data!=="undefined")z=h.data;h=this.createElement(v,o,x,r,n,y,C,D,z,u,a,j,k,f,k===0?0:i,E,h);if(this.e==="click"&&o)h.title=o;k===2&&g.log(e.join("")+h.id);if(k===1){o=g.parseEnum(d.Role,2);g.addCssClass(h,o)}if(k===0){this.selectedIndex=j;h.style.position="relative";h.style.zIndex=d.g+2;this.c=h}else{g.addCssClass(h,"hide-menu");this.D.push(h)}o=g.parseEnum(d.Role,k);g.addCssClass(h,
o);k=2;o="";z=y=n=w;u=B;x=w;r=B;C=D=w}};d.prototype.toggleMainButton=function(a){if(typeof a!=="number")a=0;var b=this.c,c=this.sa,f=this.ta,e=this.Y,i=b.className.indexOf(c)!==-1;i=typeof e.backgroundUrl==="string"?e.backgroundUrl:w;e=typeof e.backButtonBackgroundUrl==="string"?e.backButtonBackgroundUrl:w;if(this.a>0){g.addCssClass(b,"back");if(e)b.style.background=g.formatString("url('{0}') no-repeat center center",e)}else{g.removeCssClass(b,"back");if(i)b.style.background=g.formatString("url('{0}') no-repeat center center",
i)}if(i=b.className.indexOf(c)!==-1)--d.g;else++d.g;g.addCssClass(b,i?f:c);g.removeCssClass(b,i?c:f);a===0&&!this.b&&this.j&&this.ga();b.style.zIndex=d.g+2};d.prototype.ga=function(){g.removeCssClass(this.j,this.i);this.t(this.j,0,this.B,q);this.j=w;this.B=-1};d.prototype.S=function(a,b,c,f){f=f||"menuitem";f+=a.length>0?g.formatString("{0}_{1}_{2}",a.join("_"),b,c):c;return f};d.prototype.createElement=function(a,b,c,f,e,i,j,h,m,k,o,n,x,r,u,v,y){var C=this.h,D=this.p,z=this.elements;r=this.id+this.S(r,
o,n);var E=this.id+"_mainbutton",s=t.getElementById(r),A,H,G=this.Y,I=x===0;if(!s&&I)s=t.getElementById(E);if(!s){s=t.createElement("div");if(I)s.id=E;else{s.id=r;if(this.d<7)s.style.position="absolute"}H=q}a=function(K,L,M,N,O,P,Q,R,J){return function(F){var S=g.containsCssClass(F.target||F.srcElement,J.i);F=F||p.event;F.cancelBubble=q;J.M();F.stopPropagation&&F.stopPropagation();!J.W&&!S&&J.pa(F,K,L,M,N,O,P,Q,m,y,R)}}(a,b,c,f,o,n,x,x===1?v:u,this);if(H){if(k===q){A=t.createElement("div");s.appendChild(A)}if(typeof e===
"string"){k=t.createElement("span");k.innerHTML=e;A?A.appendChild(k):s.appendChild(k)}if(i)s.style.background=g.formatString("url('{0}') no-repeat center center",i);if(j)s.style.width=j+"px";if(h)s.style.height=h+"px";if(I){if(typeof G.backgroundUrl==="string")s.style.background=g.formatString("url('{0}') no-repeat center center",G.backgroundUrl);if(typeof G.width==="number")s.style.width=G.width+"px";if(typeof G.height==="number")s.style.height=G.height+"px"}C.appendChild(s);if(this.d>6&&x!==0&&
this.ua&&b.length>0){e=t.createElement("span");e.className="captionlabel "+this.H;e.innerHTML=b;e.id=r+"_label";g.setCssText(e,g.formatString(this.u,0,0));C.appendChild(e);g.addEvent(e,this.e,a)}}g.addEvent(s,this.e,a);u=o===0?0:u;if(!z[u]){z[u]=[];D[u]=[]}if(I)this.m=a;else{z[u].splice(n,0,s);D[u].splice(n,0,a)}return s};d.prototype.pa=function(a,b,c,f,e,i,j,h,m,k,o){var n=this.w,x=[].concat(n),r=this.a;o=o;if(h===1){n.push(r);this.G(r);this.b=!this.b}else if(h===0){if(n.length>0)o=n.pop();this.A();
if(this.b){this.G(r);if(r>0)this.b=!this.b}}this.a=o;h<2&&this.snap();if(h===2){this.a=0;n.length=0;if(this.ia&&b)p.location.hash="#"+b}this.selectedIndex=j;this.toggleMainButton(h);this.toggleMenuExpansion(h!==2?-1:j,o);x.push(o);this.V=x;this.ba&&this.ba.apply(this,[a,b,i,h,c,m,j,k]);if(this.X&&h===0&&i===0)this.X.apply(this,[a]);else if(this.J&&h===0&&i>0)this.J.apply(this,[a]);else if(this.Z&&h===1)this.Z.apply(this,[a,b,i,c]);else{this.U&&h===2&&this.U.apply(this,[a,b,i,c,f]);typeof f==="string"&&
f.length>0&&p.setTimeout(function(){if(e){p.open(f,"_blank");p.focus()}else p.location.href=f},this.duration)}};d.prototype.get_toggleState=function(){return this.b};l(d.get_toggleState);d.prototype.toggleMenuExpansion=function(a,b,c){if(typeof a!=="number")a=-1;if(typeof b!=="number")b=this.a;if(typeof c!=="number")c=0;var f=this.elements[b],e=f[c],i=t.getElementById(e.id+"_label");f=f.length-1;var j=this.c,h=this.T,m=this.ca,k=this.H,o=this.da,n=this.b;g.removeCssClass(e,this.i);if(e&&e!==j){if(c===
a){this.j=e;this.B=a;g.addCssClass(e,this.i)}else{this.t(e,b,c);g.removeCssClass(e,!n?h:m);g.addCssClass(e,n?h:m)}if(i){g.removeCssClass(i,!n?k:o);g.addCssClass(i,n?k:o)}}if(c<f)this.toggleMenuExpansion(a,b,++c);else this.b=!n};d.prototype.t=function(a,b,c,f){if(typeof f==="undefined")f=this.b;var e=this.c,i=this.F,j=this.R(c),h=(e.offsetWidth-a.offsetWidth)/2,m=t.getElementById(a.id+"_label"),k=f?e.offsetLeft+h:i[b][c].x;b=f?e.offsetTop+h:i[b][c].y;c=a.offsetWidth;f=a.offsetHeight;g.setCssText(a,
g.formatString(this.u+j,k,b,d.g),this.$);if(m){b+=Math.abs(f-m.offsetHeight)/2;switch(this.d){case 7:case 8:k+=c;break;case 9:case 10:k-=m.offsetWidth}g.setCssText(m,g.formatString(this.u,k,b))}};d.prototype.A=function(){for(var a;this.D.length;){a=this.D.shift();g.removeCssClass(a,"hide-menu")}};d.prototype.G=function(a,b){if(typeof b!=="number")b=0;var c=this.elements[a],f=c[b],e=t.getElementById(f.id+"_label");c=c.length-1;if(f&&f!==this.c){this.t(f,a,b);g.removeCssClass(f,this.i);g.removeCssClass(f,
this.ca);g.addCssClass(f,this.T);if(e){g.removeCssClass(e,this.da);g.addCssClass(e,this.H)}}b<c&&this.G(a,++b)};d.prototype.Q=function(a,b,c,f,e,i,j,h,m){a=a+m*(c-a);b=b+m*(f-b);c=c+m*(e-c);f=f+m*(i-f);a=a+m*(c-a);b=b+m*(f-b);return{x:Math.round(a+m*(c+m*(e+m*(j-e)-c)-a)),y:Math.round(b+m*(f+m*(i+m*(h-i)-f)-b))}};d.prototype.la=function(a,b,c,f){a=2*Math.PI/f*a;return{x:Math.round(c.x+b*Math.cos(a)),y:Math.round(c.y+b*Math.sin(a))}};d.prototype.ma=function(a,b,c,f,e,i){var j=e.x;e=e.y;var h=j,m=e,
k=f+c*a;i=i/2;var o=g.getViewport(),n=g.getScrollPos(),x=n.x;n=n.y;var r=this.aa,u=o.width-(x>0?r:0);o=o.height-(n>0?r:0);switch(b){case 1:m-=k;break;case 2:h+=k;break;case 3:m+=k;break;case 4:h-=k;break;case 5:case 6:k=f+c*(a>=i?a-i:a);if(this.k===0)this.k=i;if(b===5)if(a>=i)h-=k;else h+=k;else if(a>=i)m-=k;else m+=k}if(b===2||b===4||b===5){if(h+c>u+x||h-x<0){k=f+c*this.k++;h=h>j?j-k:j+k}}else if(b===1||b===3||b===6)if(m+c>o+n||m-n<0){k=f+c*this.k++;m=m>e?e-k:e+k}return{x:h,y:m}};d.prototype.qa=
function(a,b){return Math.round(a/100*b)};d.prototype.ra=function(){var a=this;if(!this.P){this.P=q;p.setTimeout(function(){a.P=B;a.test();a.snap(q)},0)}};d.prototype.snap=function(a){var b,c,f,e,i,j,h,m,k,o,n,x,r,u,v,y=this.c,C=y.offsetWidth,D=this.elements;b=this.qa;var z=this.F,E=this.s,s=this.n,A=this.d,H=A>=7;e=B;if(H){n=this.C||this.K[g.parseEnum(d.ExpandPattern,A)];i=n.x0;j=b(i,n.y0);h=b(i,n.x1);m=b(i,n.y1);k=b(i,n.x2);o=b(i,n.y2);n=b(i,n.x3);x=i}for(b=0;b<=E;b++){b=parseInt(b,10);u=D[b];v=
u.length;for(c=0;c<v;c++){r=u[c];e=Math.abs(C-r.offsetWidth)/2;e={x:y.offsetLeft+e,y:y.offsetTop+e};if(H){e=this.Q(i*c,j*c,h*c,m*c,k*c,o*c,n*c,x*c,c/v);switch(A){case 8:case 10:f=v-1-c;f=this.Q(i*f,j*f,h*f,m*f,k*f,o*f,n*f,x*f,f/v-1);if(A===8){e.x=f.x;if(v===1)e.x=f.x+C}else{e.x=-f.x;if(v===1)e.x=-(f.x+r.offsetWidth)}break;case 9:e.x=-e.x}}else if(A===0){s=this.n<y.offsetWidth?y.offsetWidth:this.n;e=this.la(c,s,e,v)}else e=this.ma(c,A,r.offsetWidth,s,e,v);z[b]||(z[b]=[]);z[b][c]={x:e.x,y:e.y}}this.k=
0}this.position();for(b=0;b<=E;b++){b=parseInt(b,10);u=D[b];v=u.length;e=!(b===this.a&&a&&this.b);for(c=0;c<v;c++)(r=u[c])&&this.t(r,b,c,e)}};d.prototype.position=function(){if(!(!this.elements[0]||!this.elements[0][0]||this.d<7)){var a=this.h,b=this.d,c=this.paddingLeft,f=g.getViewport(),e=this.c,i=this.elements[0][0],j=this.F[this.a],h=j.length,m=this.R(h),k=b===7||b===9;b=b===10||b===9;j=j[h-1].y;a.style.position="fixed";a.style.zIndex=this.zIndex;if(j===0)j=i.offsetHeight*h;if(b){c=t.body.offsetHeight>
f.height?this.aa:0;c=f.width-(e.offsetWidth+this.paddingRight+c)}if(k){a.style.top="";a.style.bottom=j-a.offsetHeight+e.offsetHeight+this.paddingBottom+"px"}else{j=0;a.style.top=this.paddingTop+"px"}a.style.left=c+"px";g.setCssText(e,g.formatString(this.u+m,0,j,d.g+2),this.$)}};d.prototype.na=function(a){a=a||"Transition";var b=t.createElement("div"),c=["Webkit","Moz","O","MS",""];a=[a,a.toLowerCase()];var f,e;for(f in c)for(e in a)if(c[f]+a[e]in b.style){b=c[f].toLowerCase();return{f:g.formatString("-{0}-",
b),o:b}}return{f:"",o:""}};d.prototype.R=function(a){return g.formatString("{0}transition-delay: {1}ms;",this.va.f,(a+1)*30)};d.prototype.unloadHandler=function(){this.z&&g.removeEvent(p,"unload",this.z);delete this.z;this.dispose()}})(window,document,window.$m);
