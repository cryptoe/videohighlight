!function(t,e,o){function i(t){return t.length<=8?!1:!0}function n(t){var e=null;if(-1!==t.indexOf("vim")){var o=/vimeo.*\/(\d+)/i.exec(t);o&&(e=o[1])}else if(-1!==t.indexOf("yout")){var i=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,o=t.match(i);o&&11==o[2].length&&(e=o[2])}return e}function l(e){var o=e.link,i=e.url;t.ajax({url:i,dataType:"jsonp",success:function(t){var e=t[0].title,i="by "+t[0].user_name;e.length>50?o.find(".rp_title").html(e.substr(0,50)+"&hellip;"):o.find(".rp_title").html(e),o.find(".rp_author").html(i),o.find(".rp_thumbnail img").attr("src",t[0].thumbnail_small)}})}function a(e){var o=e.link,i=e.url;t.ajax({url:i,dataType:"jsonp",success:function(t){var e=t.entry.title.$t,i="by "+t.entry.author[0].name.$t;e.length>50?o.find(".rp_title").html(e.substr(0,50)+"&hellip;"):o.find(".rp_title").html(e),o.find(".rp_author").html(i)}})}function r(e,o){t.ajax({url:"https://www.googleapis.com/youtube/v3/channels?part=contentDetails&forUsername="+e+"&key=AIzaSyCIlwa-7d7qpKS0Nj5vhI7tb-0minC-qZ8",dataType:"jsonp",success:function(t){o(t.items[0].contentDetails.relatedPlaylists.uploads)}})}function s(e,o){t.ajax({url:"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId="+e+"&key=AIzaSyCIlwa-7d7qpKS0Nj5vhI7tb-0minC-qZ8",dataType:"jsonp",success:function(t){o(t.items.reverse())}})}function u(e,o){for(var i,n,l=0,a=e.length;a>l;l++)i=e[l],n=i.snippet.resourceId.videoId,li='<li><a href="https://www.youtube.com/watch?v='+n+'"></a></li>',t(li).prependTo("#rp_playlist");o()}function c(e,o){t.ajax({url:"http://vimeo.com/api/v2/"+e+"/videos.json",dataType:"jsonp",success:function(t){o(t.reverse())}})}function p(e,o){t.ajax({url:"http://vimeo.com/api/v2/album/"+e+"/videos.json",dataType:"jsonp",success:function(t){o(t.reverse())}})}function h(e,o){for(var i,n,l=0,a=e.length;a>l;l++)i=e[l],n=i.id,li='<li><a href="https://www.vimeo.com/'+n+'"></a></li>',t(li).prependTo("#rp_playlist");o()}function d(o,i){this.element=o,this.options=t.extend({},m,i),this._defaults=m,this._name=f,this._protocol="auto"===this.options.secure?"https:"===e.location.protocol?"https://":"http://":this.options.secure?"https://":"http://",this.init()}var f="responsiveplaylist",m={autoPlay:!1,allowFullScreen:!0,deepLinks:!0,onChange:function(){},start:1,youtube:{autohide:"2",rel:"1",theme:"dark",color:"white",showinfo:"1",vq:"medium"},vimeo:{title:"1",byline:"1",portrait:"1",color:"ffffff"},holderId:"rp_video",secure:"auto"};d.prototype={init:function(){var d=this,f=d.options.deepLinks&&-1!==e.location.hash.indexOf("#video-")?e.location.hash:null,m=function(){t(d.element).find("li").each(function(e){var o=t(this),r=e+1;o.find("a:first").each(function(){var e=t(this),s=n(e.attr("href")),u=o.text();e.data("yt-href",e.attr("href")),e.attr("href","#video-"+r),e.data("yt-id",s);var c,p="";i(s)?(a({link:e,url:d._protocol+"gdata.youtube.com/feeds/api/videos/"+s+"?v=2&alt=json"}),p=d._protocol+"i.ytimg.com/vi/"+s+"/default.jpg"):l({link:e,url:d._protocol+"vimeo.com/api/v2/video/"+s+".json"}),c='<span class="rp_thumbnail"><img src="'+p+'" alt="'+u+'" /></span><p class="rp_title"></p><p class="rp_author"></p>',e.empty().html(c+u).attr("title",u),d.options.deepLinks||e.click(function(t){t.preventDefault(),d.handleClick(e,d.options),d.options.onChange.call()})});var s=t(o.children("a")[0]);f?s.attr("href")===f&&d.handleClick(s,d.options):r===d.options.start&&d.handleClick(s,d.options)}),d.options.deepLinks&&t(e).bind("hashchange",function(){var o=e.location.hash,i=t(d.element).find('a[href="'+o+'"]');i.length>0?d.handleClick(i,d.options):""===o&&d.handleClick(t(d.element).find("a:first"),d.options)});var r=o.createElement("div"),s=o.getElementsByTagName("base")[0]||o.getElementsByTagName("script")[0];r.innerHTML="&shy;<style> iframe { visibility: hidden; } </style>",s.parentNode.insertBefore(r,s),e.onload=function(){r.parentNode.removeChild(r)}},v=function(t){s(d.options.youtubePlaylist,function(e){u(e,t)})},y=function(t){p(d.options.vimeoAlbum,function(e){h(e,t)})},b=function(t){r(d.options.youtubeUsername,function(e){s(e,function(e){u(e,t)})})},w=function(t){c(d.options.vimeoUsername,function(e){h(e,t)})},g=[];d.options.vimeoAlbum&&g.push(y),d.options.youtubePlaylist&&g.push(v),d.options.vimeoUsername&&g.push(w),d.options.youtubeUsername&&g.push(b),g.push(m);var _=function(t,e){e||(e=0),t[e].call(this,function(){e+1<t.length&&_(t,e+1)})};_(g)},getEmbedCode:function(t,e){if(i(e)){var o="";o+="<iframe",o+=' src="'+this._protocol+"www.youtube.com/embed/"+e,o+="?",o+=t.autoPlay?"autoplay=1":"autoplay=0",o+="&autohide="+t.youtube.autohide,o+="&rel="+t.youtube.rel,o+="&theme="+t.youtube.theme,o+="&color="+t.youtube.color,o+="&showinfo="+t.youtube.showinfo,o+="&vq="+t.youtube.vq,o+='" ',t.allowFullScreen&&(o+=" webkitAllowFullScreen mozallowfullscreen allowFullScreen "),o+=' frameborder="0" ></iframe>'}else{var o="";o+="<iframe",o+=' src="'+this._protocol+"player.vimeo.com/video/"+e,o+="?",o+=t.autoPlay?"autoplay=1":"autoplay=0",o+="&title="+t.vimeo.title,o+="&byline="+t.vimeo.byline,o+="&portrait="+t.vimeo.portrait,o+="&color="+t.vimeo.color,o+='" ',t.allowFullScreen&&(o+=" webkitAllowFullScreen mozallowfullscreen allowFullScreen "),o+=' type="text/html" frameborder="0" ></iframe>'}return o},handleClick:function(t,e){return e.onChange.call(),this.handleVideoClick(t,e)},handleVideoClick:function(e,o){var i=this,n=o.holder?o.holder:t("#"+o.holderId);return n.html(i.getEmbedCode(i.options,e.data("yt-id"))),e.parent().parent("ul").find("li.rp_currentVideo").removeClass("rp_currentVideo"),e.parent("li").addClass("rp_currentVideo"),!1}},t.fn[f]=function(e){return this.each(function(){t.data(this,"plugin_"+f)||t.data(this,"plugin_"+f,new d(this,e))})}}(jQuery,window,document);